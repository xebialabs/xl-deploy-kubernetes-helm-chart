"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[618],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return u}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),u=o,h=d["".concat(s,".").concat(u)]||d[u]||m[u]||r;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7857:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var a=n(7462),o=n(3366),r=(n(7294),n(3905)),i=["components"],l={sidebar_position:11},s="Development",p={unversionedId:"development",id:"development",isDocsHomePage:!1,title:"Development",description:"This is internal documentation. This document can be used only if it was recommended by the Support Team.",source:"@site/docs/development.md",sourceDirName:".",slug:"/development",permalink:"/xl-deploy-kubernetes-helm-chart/docs/development",tags:[],version:"current",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"Parameters",permalink:"/xl-deploy-kubernetes-helm-chart/docs/parameters"},next:{title:"Useful links",permalink:"/xl-deploy-kubernetes-helm-chart/docs/useful-links"}},c=[{value:"Troubleshooting",id:"troubleshooting",children:[],level:2}],m={toc:c};function d(e){var t=e.components,l=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},m,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"development"},"Development"),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"This is internal documentation. This document can be used only if it was recommended by the Support Team."))),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"From 10.2 version helm chart is not used directly. Use operator based installation instead."))),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"From 23.3 version this document is outdated. Use official Digital.ai documentation."))),(0,r.kt)("p",null,"Let's have a look here about the easiest way to setup the cluster for a development on a local computer."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Copy ",(0,r.kt)("inlineCode",{parentName:"li"},"values-haproxy.yaml")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"values-nginx.yaml")," and rename it as ",(0,r.kt)("inlineCode",{parentName:"li"},"values.yaml")," "),(0,r.kt)("li",{parentName:"ol"},"Replace all usages in ",(0,r.kt)("inlineCode",{parentName:"li"},"values.yaml")," of ",(0,r.kt)("inlineCode",{parentName:"li"},'storageClass: "-"')," to ",(0,r.kt)("inlineCode",{parentName:"li"},'storageClass: "standard"'),". This way we will use\nlocal file system as a dynamic storage class with no need of configuring NFS server."),(0,r.kt)("li",{parentName:"ol"},"Define ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:"title=values.yaml",title:"values.yaml"},"AdminPassword:\n  admin\n\nxldLicense:\n    # Convert xl-deploy.lic files content to base64\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Comment out ",(0,r.kt)("inlineCode",{parentName:"p"},"RepositoryKeystore")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"KeystorePassphrase"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Turn of persistence with"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"Persistence:\n  Enabled: false\n")),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"You can also change ",(0,r.kt)("inlineCode",{parentName:"li"},"XldMasterCount")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"XldWorkerCount")," to 1 or 2. Depends on your computer capacity.\nSame for RabbitMq. On Dev environment, you can just use 1 replica.")),(0,r.kt)("p",null,"Once all of that is done you are ready to run it from the root of the project:\n",(0,r.kt)("inlineCode",{parentName:"p"},"helm install xld-production ."),"\nOnly make sure, that you installed kubernetes (currently it works on 1.17-1.20) and helm. "),(0,r.kt)("p",null,"When you want to clean it up: ",(0,r.kt)("inlineCode",{parentName:"p"},"helm delete xld-production")," plus you have to remove your ",(0,r.kt)("inlineCode",{parentName:"p"},"pvc"),", like\n",(0,r.kt)("inlineCode",{parentName:"p"},"kubectl delete pvc data-xld-production-postgresql-0 data-xld-production-rabbitmq-0"),". ",(0,r.kt)("br",null),"\nYou might have slightly different names, if so, first list ",(0,r.kt)("inlineCode",{parentName:"p"},"pvcs")," to check what you have with ",(0,r.kt)("inlineCode",{parentName:"p"},"kubectl get pvc"),"."),(0,r.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,r.kt)("p",null,"Most of the cases what you have to know to troubleshoot your cluster locally:"),(0,r.kt)("p",null,"1) Check logs of the pod ",(0,r.kt)("inlineCode",{parentName:"p"},"kubectl logs POD_NAME -f")),(0,r.kt)("p",null,"2) Check the state of pod/service/etc by ",(0,r.kt)("inlineCode",{parentName:"p"},"kubectl describe POD_NAME|SERVICE_NAME|ETC"),". "),(0,r.kt)("p",null,"To find all what you have on your system up and running ",(0,r.kt)("inlineCode",{parentName:"p"},"kubectl get all"),"\n",(0,r.kt)("img",{alt:"kubectl get all",src:n(2150).Z}),". First thing you need to pay your attention to is the readiness of the Pods.\nFor ingress that you have external IP address to be able connect to UI from your browser."))}d.isMDXComponent=!0},2150:function(e,t,n){t.Z=n.p+"assets/images/k-get-all-ea1527a2f1d56486b1862d6a0edc6cb1.png"}}]);